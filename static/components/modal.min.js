!function(e,i,n,t){"use strict";i=void 0!==i&&i.Math==Math?i:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(t){var o,a=e(this),r=e(i),s=e(n),c=e("body"),l=a.selector||"",d=(new Date).getTime(),u=[],m=arguments[0],f="string"==typeof m,g=[].slice.call(arguments,1),v=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var a,h,b,p,y,k,S,w,C,F=e.isPlainObject(t)?e.extend(!0,{},e.fn.modal.settings,t):e.extend({},e.fn.modal.settings),M=F.selector,x=F.className,H=F.namespace,A=F.error,O="."+H,D="module-"+H,T=e(this),z=e(F.context),E=T.find(M.close),j=this,q=T.data(D),L=!1;C={initialize:function(){C.verbose("Initializing dimmer",z),C.create.id(),C.create.dimmer(),C.refreshModals(),C.bind.events(),F.observeChanges&&C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of modal"),q=C,T.data(D,q)},create:{dimmer:function(){var i={debug:F.debug,variation:!F.centered&&"top aligned",dimmerName:"modals"},n=e.extend(!0,i,F.dimmerSettings);if(void 0===e.fn.dimmer)return void C.error(A.dimmer);C.debug("Creating dimmer"),p=z.dimmer(n),F.detachable?(C.verbose("Modal is detachable, moving content into dimmer"),p.dimmer("add content",T)):C.set.undetached(),y=p.dimmer("get dimmer")},id:function(){S=(Math.random().toString(16)+"000000000").substr(2,8),k="."+S,C.verbose("Creating unique id for element",S)}},destroy:function(){C.verbose("Destroying previous modal"),T.removeData(D).off(O),r.off(k),y.off(k),E.off(O),z.dimmer("destroy")},observeChanges:function(){"MutationObserver"in i&&(w=new MutationObserver(function(e){C.debug("DOM tree modified, refreshing"),C.refresh()}),w.observe(j,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",w))},refresh:function(){C.remove.scrolling(),C.cacheSizes(),C.can.useFlex()||C.set.modalOffset(),C.set.screenHeight(),C.set.type()},refreshModals:function(){h=T.siblings(M.modal),a=h.add(T)},attachEvents:function(i,n){var t=e(i);n=e.isFunction(C[n])?C[n]:C.toggle,t.length>0?(C.debug("Attaching modal events to element",i,n),t.off(O).on("click"+O,n)):C.error(A.notFound,i)},bind:{events:function(){C.verbose("Attaching events"),T.on("click"+O,M.close,C.event.close).on("click"+O,M.approve,C.event.approve).on("click"+O,M.deny,C.event.deny),r.on("resize"+k,C.event.resize)},scrollLock:function(){p.get(0).addEventListener("touchmove",C.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){p.get(0).removeEventListener("touchmove",C.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){if(L||!1===F.onApprove.call(j,e(this)))return void C.verbose("Approve callback returned false cancelling hide");L=!0,C.hide(function(){L=!1})},preventScroll:function(e){e.preventDefault()},deny:function(){if(L||!1===F.onDeny.call(j,e(this)))return void C.verbose("Deny callback returned false cancelling hide");L=!0,C.hide(function(){L=!1})},close:function(){C.hide()},click:function(i){if(!F.closable)return void C.verbose("Dimmer clicked but closable setting is disabled");var t=e(i.target),o=t.closest(M.modal).length>0,a=e.contains(n.documentElement,i.target);!o&&a&&C.is.active()&&(C.debug("Dimmer clicked, hiding all modals"),C.remove.clickaway(),F.allowMultiple?C.hide():C.hideAll())},debounce:function(e,i){clearTimeout(C.timer),C.timer=setTimeout(e,i)},keyboard:function(e){27==e.which&&(F.closable?(C.debug("Escape key pressed hiding modal"),C.hide()):C.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){p.dimmer("is active")&&(C.is.animating()||C.is.active())&&v(C.refresh)}},toggle:function(){C.is.active()||C.is.animating()?C.hide():C.show()},show:function(i){i=e.isFunction(i)?i:function(){},C.refreshModals(),C.set.dimmerSettings(),C.set.dimmerStyles(),C.showModal(i)},hide:function(i){i=e.isFunction(i)?i:function(){},C.refreshModals(),C.hideModal(i)},showModal:function(i){i=e.isFunction(i)?i:function(){},C.is.animating()||!C.is.active()?(C.showDimmer(),C.cacheSizes(),C.can.useFlex()?C.remove.legacy():(C.set.legacy(),C.set.modalOffset(),C.debug("Using non-flex legacy modal positioning.")),C.set.screenHeight(),C.set.type(),C.set.clickaway(),!F.allowMultiple&&C.others.active()?C.hideOthers(C.showModal):(F.allowMultiple&&F.detachable&&T.detach().appendTo(y),F.onShow.call(j),F.transition&&void 0!==e.fn.transition&&T.transition("is supported")?(C.debug("Showing modal with css animations"),T.transition({debug:F.debug,animation:F.transition+" in",queue:F.queue,duration:F.duration,useFailSafe:!0,onComplete:function(){F.onVisible.apply(j),F.keyboardShortcuts&&C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),F.autofocus&&C.set.autofocus(),i()}})):C.error(A.noTransition))):C.debug("Modal is already visible")},hideModal:function(i,n){if(i=e.isFunction(i)?i:function(){},C.debug("Hiding modal"),!1===F.onHide.call(j,e(this)))return void C.verbose("Hide callback returned false cancelling hide");(C.is.animating()||C.is.active())&&(F.transition&&void 0!==e.fn.transition&&T.transition("is supported")?(C.remove.active(),T.transition({debug:F.debug,animation:F.transition+" out",queue:F.queue,duration:F.duration,useFailSafe:!0,onStart:function(){C.others.active()||n||C.hideDimmer(),F.keyboardShortcuts&&C.remove.keyboardShortcuts()},onComplete:function(){F.onHidden.call(j),C.remove.dimmerStyles(),C.restore.focus(),i()}})):C.error(A.noTransition))},showDimmer:function(){p.dimmer("is animating")||!p.dimmer("is active")?(C.debug("Showing dimmer"),p.dimmer("show")):C.debug("Dimmer already visible")},hideDimmer:function(){if(!p.dimmer("is animating")&&!p.dimmer("is active"))return void C.debug("Dimmer is not visible cannot hide");C.unbind.scrollLock(),p.dimmer("hide",function(){C.remove.clickaway(),C.remove.screenHeight()})},hideAll:function(i){var n=a.filter("."+x.active+", ."+x.animating);i=e.isFunction(i)?i:function(){},n.length>0&&(C.debug("Hiding all visible modals"),C.hideDimmer(),n.modal("hide modal",i))},hideOthers:function(i){var n=h.filter("."+x.active+", ."+x.animating);i=e.isFunction(i)?i:function(){},n.length>0&&(C.debug("Hiding other modals",h),n.modal("hide modal",i,!0))},others:{active:function(){return h.filter("."+x.active).length>0},animating:function(){return h.filter("."+x.animating).length>0}},add:{keyboardShortcuts:function(){C.verbose("Adding keyboard shortcuts"),s.on("keyup"+O,C.event.keyboard)}},save:{focus:function(){e(n.activeElement).closest(T).length>0||(b=e(n.activeElement).blur())}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){T.removeClass(x.active)},legacy:function(){T.removeClass(x.legacy)},clickaway:function(){y.off("click"+k)},dimmerStyles:function(){y.removeClass(x.inverted),p.removeClass(x.blurring)},bodyStyle:function(){""===c.attr("style")&&(C.verbose("Removing style attribute"),c.removeAttr("style"))},screenHeight:function(){C.debug("Removing page height"),c.css("height","")},keyboardShortcuts:function(){C.verbose("Removing keyboard shortcuts"),s.off("keyup"+O)},scrolling:function(){p.removeClass(x.scrolling),T.removeClass(x.scrolling)}},cacheSizes:function(){T.addClass(x.loading);var t=T.prop("scrollHeight"),o=T.outerWidth(),a=T.outerHeight();void 0!==C.cache&&0===a||(C.cache={pageHeight:e(n).outerHeight(),width:o,height:a+F.offset,scrollHeight:t+F.offset,contextHeight:"body"==F.context?e(i).height():p.height()},C.cache.topOffset=-C.cache.height/2),T.removeClass(x.loading),C.debug("Caching modal and container sizes",C.cache)},can:{useFlex:function(){return"auto"==F.useFlex?F.detachable&&!C.is.ie():F.useFlex},fit:function(){var e=C.cache.contextHeight,i=C.cache.contextHeight/2,n=C.cache.topOffset,t=C.cache.scrollHeight,o=C.cache.height,a=F.padding,r=i+n;return t>o?r+t+a<e:o+2*a<e}},is:{active:function(){return T.hasClass(x.active)},ie:function(){var e=!i.ActiveXObject&&"ActiveXObject"in i,n="ActiveXObject"in i;return e||n},animating:function(){return T.transition("is supported")?T.transition("is animating"):T.is(":visible")},scrolling:function(){return p.hasClass(x.scrolling)},modernBrowser:function(){return!(i.ActiveXObject||"ActiveXObject"in i)}},set:{autofocus:function(){var e=T.find("[tabindex], :input").filter(":visible"),i=e.filter("[autofocus]"),n=i.length>0?i.first():e.first();n.length>0&&n.focus()},clickaway:function(){y.on("click"+k,C.event.click)},dimmerSettings:function(){if(void 0===e.fn.dimmer)return void C.error(A.dimmer);var i={debug:F.debug,dimmerName:"modals",closable:"auto",useFlex:C.can.useFlex(),variation:!F.centered&&"top aligned",duration:{show:F.duration,hide:F.duration}},n=e.extend(!0,i,F.dimmerSettings);F.inverted&&(n.variation=void 0!==n.variation?n.variation+" inverted":"inverted"),z.dimmer("setting",n)},dimmerStyles:function(){F.inverted?y.addClass(x.inverted):y.removeClass(x.inverted),F.blurring?p.addClass(x.blurring):p.removeClass(x.blurring)},modalOffset:function(){var e=C.cache.width,i=C.cache.height;T.css({marginTop:F.centered&&C.can.fit()?-i/2:0,marginLeft:-e/2}),C.verbose("Setting modal offset for legacy mode")},screenHeight:function(){C.can.fit()?c.css("height",""):(C.debug("Modal is taller than page content, resizing page height"),c.css("height",C.cache.height+2*F.padding))},active:function(){T.addClass(x.active)},scrolling:function(){p.addClass(x.scrolling),T.addClass(x.scrolling),C.unbind.scrollLock()},legacy:function(){T.addClass(x.legacy)},type:function(){C.can.fit()?(C.verbose("Modal fits on screen"),C.others.active()||C.others.animating()||(C.remove.scrolling(),C.bind.scrollLock())):(C.verbose("Modal cannot fit on screen setting to scrolling"),C.set.scrolling())},undetached:function(){p.addClass(x.undetached)}},setting:function(i,n){if(C.debug("Changing setting",i,n),e.isPlainObject(i))e.extend(!0,F,i);else{if(void 0===n)return F[i];e.isPlainObject(F[i])?e.extend(!0,F[i],n):F[i]=n}},internal:function(i,n){if(e.isPlainObject(i))e.extend(!0,C,i);else{if(void 0===n)return C[i];C[i]=n}},debug:function(){!F.silent&&F.debug&&(F.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,F.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!F.silent&&F.verbose&&F.debug&&(F.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,F.name+":"),C.verbose.apply(console,arguments)))},error:function(){F.silent||(C.error=Function.prototype.bind.call(console.error,console,F.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var i,n,t;F.performance&&(i=(new Date).getTime(),t=d||i,n=i-t,d=i,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var i=F.name+":",n=0;d=!1,clearTimeout(C.performance.timer),e.each(u,function(e,i){n+=i["Execution Time"]}),i+=" "+n+"ms",l&&(i+=" '"+l+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(i),console.table?console.table(u):e.each(u,function(e,i){console.log(i.Name+": "+i["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(i,n,t){var a,r,s,c=q;return n=n||g,t=j||t,"string"==typeof i&&void 0!==c&&(i=i.split(/[\. ]/),a=i.length-1,e.each(i,function(n,t){var o=n!=a?t+i[n+1].charAt(0).toUpperCase()+i[n+1].slice(1):i;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(void 0!==c[o])return r=c[o],!1;if(!e.isPlainObject(c[t])||n==a)return void 0!==c[t]&&(r=c[t],!1);c=c[t]}})),e.isFunction(r)?s=r.apply(t,n):void 0!==r&&(s=r),e.isArray(o)?o.push(s):void 0!==o?o=[o,s]:void 0!==s&&(o=s),r}},f?(void 0===q&&C.initialize(),C.invoke(m)):(void 0!==q&&q.invoke("destroy"),C.initialize())}),void 0!==o?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document);